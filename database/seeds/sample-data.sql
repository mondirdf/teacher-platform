-- بيانات تجريبية لمنصة الأستاذ
-- Sample Data for Teacher Platform

-- إدراج إعدادات افتراضية
INSERT INTO settings (
    id,
    primary_color,
    secondary_color,
    hero_title,
    hero_description,
    teacher_name,
    teacher_subject,
    teacher_photo
) VALUES (
    '00000000-0000-0000-0000-000000000001',
    '#2196f3',
    '#9c27b0',
    'مرحباً بكم في منصتي التعليمية',
    'اكتشف عالم المعرفة مع أفضل الدروس والمحتوى التعليمي المصمم خصيصاً لتطوير مهاراتك وتحقيق أهدافك الدراسية',
    'الأستاذ أحمد',
    'معلم رياضيات متخصص',
    'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop&crop=face'
) ON CONFLICT (id) DO NOTHING;

-- إدراج مستخدم (أستاذ) تجريبي
INSERT INTO users (
    id,
    name,
    email,
    password_hash,
    bio,
    photo_url,
    subject
) VALUES (
    '00000000-0000-0000-0000-000000000002',
    'الأستاذ أحمد',
    'admin@example.com',
    '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', -- password: password
    'معلم رياضيات متخصص مع أكثر من 10 سنوات خبرة في تدريس الرياضيات للمراحل المتوسطة والثانوية. أؤمن بأن التعلم الفعال يحدث عندما يشارك الطلاب بشكل نشط في العملية التعليمية.',
    'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop&crop=face',
    'الرياضيات والفيزياء'
) ON CONFLICT (id) DO NOTHING;

-- إدراج دروس تجريبية
INSERT INTO lessons (
    id,
    title,
    description,
    level,
    thumbnail,
    video_count,
    file_count
) VALUES 
(
    '00000000-0000-0000-0000-000000000003',
    'مقدمة في الجبر',
    'تعلم أساسيات الجبر والمعادلات الخطية بطريقة مبسطة وفعالة مع أمثلة تطبيقية متنوعة',
    'مبتدئ',
    'https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=800&h=600&fit=crop',
    3,
    2
),
(
    '00000000-0000-0000-0000-000000000004',
    'الدوال والعلاقات',
    'فهم مفهوم الدوال وكيفية تمثيلها بيانياً مع تطبيقات عملية في الحياة اليومية',
    'متوسط',
    'https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop',
    4,
    3
),
(
    '00000000-0000-0000-0000-000000000005',
    'المصفوفات والمحددات',
    'دراسة متعمقة للمصفوفات وعملياتها مع حل المحددات بأسلوب مبسط',
    'متقدم',
    'https://images.unsplash.com/photo-1509228468518-180dd4864904?w=800&h=600&fit=crop',
    5,
    4
),
(
    '00000000-0000-0000-0000-000000000006',
    'الهندسة التحليلية',
    'الخطوط والدوائر والمخاريط وكيفية تمثيلها جبرياً وبيئياً',
    'متوسط',
    'https://images.unsplash.com/photo-1635070041409-e63e783d0f4f?w=800&h=600&fit=crop',
    4,
    2
),
(
    '00000000-0000-0000-0000-000000000007',
    'التفاضل والتكامل',
    'مقدمة في حساب التفاضل والتكامل مع تطبيقاته في الفيزياء والهندسة',
    'متقدم',
    'https://images.unsplash.com/photo-1554474051-02565e8f1a39?w=800&h=600&fit=crop',
    6,
    5
),
(
    '00000000-0000-0000-0000-000000000008',
    'الإحصاء والاحتمالات',
    'أساسيات الإحصاء الوصفي والاحتمالات مع تطبيقات في تحليل البيانات',
    'متوسط',
    'https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop',
    3,
    3
) ON CONFLICT (id) DO NOTHING;

-- إدراج فيديوهات تجريبية
INSERT INTO videos (
    id,
    lesson_id,
    title,
    url,
    platform,
    duration,
    views
) VALUES 
(
    '00000000-0000-0000-0000-000000000009',
    '00000000-0000-0000-0000-000000000003',
    'مقدمة الجزء 1: المفاهيم الأساسية',
    'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
    'youtube',
    900,
    1250
),
(
    '00000000-0000-0000-0000-000000000010',
    '00000000-0000-0000-0000-000000000003',
    'مقدمة الجزء 2: حل المعادلات',
    'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
    'youtube',
    1200,
    980
),
(
    '00000000-0000-0000-0000-000000000011',
    '00000000-0000-0000-0000-000000000004',
    'الدوال الجزء 1: التعريف والتمثيل',
    'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
    'youtube',
    1100,
    1500
),
(
    '00000000-0000-0000-0000-000000000012',
    '00000000-0000-0000-0000-000000000004',
    'الدوال الجزء 2: التطبيقات',
    'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
    'youtube',
    1300,
    1100
),
(
    '00000000-0000-0000-0000-000000000013',
    '00000000-0000-0000-0000-000000000005',
    'المصفوفات الجزء 1: المفاهيم الأساسية',
    'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
    'youtube',
    1500,
    850
),
(
    '00000000-0000-0000-0000-000000000014',
    '00000000-0000-0000-0000-000000000007',
    'مقدمة في التفاضل',
    'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
    'youtube',
    1800,
    2100
) ON CONFLICT (id) DO NOTHING;

-- إدراج ملفات PDF تجريبية
INSERT INTO files (
    id,
    lesson_id,
    name,
    url,
    type,
    size,
    downloads
) VALUES 
(
    '00000000-0000-0000-0000-000000000015',
    '00000000-0000-0000-0000-000000000003',
    'ملخص مقدمة الجبر.pdf',
    'https://example.com/files/algebra-intro.pdf',
    'pdf',
    2048000,
    450
),
(
    '00000000-0000-0000-0000-000000000016',
    '00000000-0000-0000-0000-000000000003',
    'تمارين محلولة - الجبر.pdf',
    'https://example.com/files/algebra-exercises.pdf',
    'pdf',
    3072000,
    320
),
(
    '00000000-0000-0000-0000-000000000017',
    '00000000-0000-0000-0000-000000000004',
    'أوراق عمل - الدوال.pdf',
    'https://example.com/files/functions-worksheets.pdf',
    'pdf',
    2560000,
    280
),
(
    '00000000-0000-0000-0000-000000000018',
    '00000000-0000-0000-0000-000000000005',
    'دليل المصفوفات.pdf',
    'https://example.com/files/matrices-guide.pdf',
    'pdf',
    4096000,
    190
),
(
    '00000000-0000-0000-0000-000000000019',
    '00000000-0000-0000-0000-000000000007',
    'قواعد التفاضل والتكامل.pdf',
    'https://example.com/files/calculus-rules.pdf',
    'pdf',
    5120000,
    420
),
(
    '00000000-0000-0000-0000-000000000020',
    '00000000-0000-0000-0000-000000000008',
    'إحصاء واحتمالات - ملخص.pdf',
    'https://example.com/files/statistics-summary.pdf',
    'pdf',
    3584000,
    310
) ON CONFLICT (id) DO NOTHING;

-- إدراج تقييمات تجريبية
INSERT INTO reviews (
    id,
    student_name,
    rating,
    comment,
    date
) VALUES 
(
    '00000000-0000-0000-0000-000000000021',
    'سارة أحمد',
    5,
    'منصة رائعة! الشرح واضح والدروس ممتازة. استفدت كثيراً من شرح الجبر.',
    '2024-01-15 10:30:00+00'
),
(
    '00000000-0000-0000-0000-000000000022',
    'محمد علي',
    4,
    'محتوى عالي الجودة، لكن أتمنى إضافة المزيد من التمارين التفاعلية.',
    '2024-01-20 14:45:00+00'
),
(
    '00000000-0000-0000-0000-000000000023',
    'فاطمة حسن',
    5,
    'الأستاذ ممتاز في الشرح، الطريقة التعليمية سهلت عليّ فهم الدوال بشكل كبير.',
    '2024-01-25 09:15:00+00'
),
(
    '00000000-0000-0000-0000-000000000024',
    'عبد الله خالد',
    5,
    'أفضل منصة تعليمية استخدمتها! الشرح المبسط والأمثلة الواقعية جعلت الرياضيات سهلة.',
    '2024-02-01 16:20:00+00'
),
(
    '00000000-0000-0000-0000-000000000025',
    'نورة سعيد',
    4,
    'محتوى ممتاز وسهل الفهم. الفيديوهات قصيرة ومركزة مما يسهل المتابعة.',
    '2024-02-05 11:10:00+00'
),
(
    '00000000-0000-0000-0000-000000000026',
    'خالد محمد',
    5,
    'شكراً للأستاذ على الجهد المبذول. الملفات المرفقة مفيدة جداً للمراجعة.',
    '2024-02-10 13:30:00+00'
) ON CONFLICT (id) DO NOTHING;

-- إدراج رسائل تجريبية
INSERT INTO messages (
    id,
    student_name,
    phone,
    email,
    content,
    is_read,
    created_at
) VALUES 
(
    '00000000-0000-0000-0000-000000000027',
    'أحمد سامي',
    '0501234567',
    'ahmed@example.com',
    'السلام عليكم، أود الاستفسار عن مواعيد الدروس الخصوصية وكيفية التسجيل فيها. شكراً.',
    false,
    '2024-02-01 09:00:00+00'
),
(
    '00000000-0000-0000-0000-000000000028',
    'سارة محمد',
    '0502345678',
    'sarah@example.com',
    'الرسالة وصلت، شكراً على الرد السريع. هل يمكنني الحصول على المزيد من التفاصيل حول منهج الصف العاشر؟',
    true,
    '2024-02-02 14:30:00+00'
),
(
    '00000000-0000-0000-0000-000000000029',
    'فهد عبد الله',
    '0503456789',
    NULL,
    'أريد معرفة كيفية الوصول إلى الدروس المسجلة الخاصة بالفصل الدراسي الثاني.',
    false,
    '2024-02-03 11:15:00+00'
),
(
    '00000000-0000-0000-0000-000000000030',
    'ليلى أحمد',
    NULL,
    'laila@example.com',
    'هل توجد خصومات للطلاب المتميزين؟ وما هي شروط الحصول على منحة دراسية؟',
    false,
    '2024-02-04 16:45:00+00'
),
(
    '00000000-0000-0000-0000-000000000031',
    'عبد الرحمن خالد',
    '0504567890',
    'abdurahman@example.com',
    'السلام عليكم ورحمة الله، أود الاشتراك في دورة التفاضل والتكامل. ما هي المتطلبات؟',
    true,
    '2024-02-05 10:20:00+00'
) ON CONFLICT (id) DO NOTHING;

-- تحديث عدد الفيديوهات والملفات في جدول الدروس
UPDATE lessons 
SET video_count = (
    SELECT COUNT(*) 
    FROM videos 
    WHERE videos.lesson_id = lessons.id
),
file_count = (
    SELECT COUNT(*) 
    FROM files 
    WHERE files.lesson_id = lessons.id
);